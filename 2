# Load the necessary library
#library(tidyverse)

# a. Read the suitable number of employee details from the user.
num_employees <- as.integer(readline("Enter the number of employees: "))

# Create empty vectors to store data
emp_id <- vector(length = num_employees)
emp_name <- vector(length = num_employees)
doj <- vector(length = num_employees)
dept <- vector(length = num_employees)
desig <- vector(length = num_employees)

# b. Create a dataframe of Employee
for (i in 1:num_employees) {
  emp_id[i] <- readline(paste("Enter Employee ID ", i, ": ", sep=""))
  emp_name[i] <- readline(paste("Enter Employee Name ", i, ": ", sep=""))
  doj[i] <- readline(paste("Enter Date of Joining (dd-mm-yyyy) for Employee ", i, ": ", sep=""))
  dept[i] <- readline(paste("Enter Department for Employee ", i, ": ", sep=""))
  desig[i] <- readline(paste("Enter Designation for Employee ", i, ": ", sep=""))
}

# create dataframe
employee_df <- data.frame(
  EmpID = emp_id,
  EmpName = emp_name,
  DOJ = doj,
  Dept = dept,
  Desig = desig
)

# c. Store the dataframe in the csv file
write.csv(employee_df, file = "employee_data.csv", row.names = FALSE)

# d. Read the data from csv and Display the contents
read.csv("employee_data.csv")

# e. Append a new row into the csv file
new_emp <- data.frame(
  EmpID = "1001",
  EmpName = "John Doe",
  DOJ = "01-01-2022",
  Dept = "Marketing",
  Desig = "Manager"
)

# Append the new row to the existing csv file
write.table(new_emp, file = "employee_data.csv", 
            append = TRUE, sep = ",", 
            col.names = !file.exists("employee_data.csv"), 
            row.names = FALSE)
read.csv("employee_data.csv")
